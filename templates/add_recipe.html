{% extends "base.html" %}
{% block content %}

    <h3>Add Recipe</h3>


    <form  method="POST" action="{{ url_for('add_recipe') }}" enctype="multipart/form-data">
       <!-- category selection -->

       <div class="input-group p-3">
        <div class="input-group-prepend w-25">
          <div class="input-group-text">Category Name</div>
        </div>
        <select id="category_name" name="category_name" class="validate form-control " required>
          <option value="" disabled selected>Meal Categories</option>
          {% for category in categories %}
              <option value="{{ category.category_name }}">{{ category.category_name }}</option>
          {% endfor %}
        </select>
      </div>

    <!-- recipe name -->
    <div class="input-group p-3">
      <div class="input-group-prepend w-25">
        <div class="input-group-text">Recipe Name</div>
      </div>
      <input id="recipe_name" name="recipe_name" minlength="5" maxlength="50" type="text" class="validate form-control" required>
    </div>
       <!-- recipe description -->
    <div class="input-group p-3">
      <div class="input-group-prepend w-25">
        <div class="input-group-text"> Recipe Description </div>
      </div>
      <textarea id="recipe_description" name="recipe_description" minlength="5" class="form-control"
                      maxlength="200" class="materialize-textarea validate" required></textarea>
    </div>

    <!-- preparation time -->
      <div class="input-group p-3">
        <div class="input-group-prepend w-25">
          <div class="input-group-text"> Preparation Time </div>
        </div>  
        <input type="number" class="form-control" id="preparation_time" name="preparation_time" min="1" max="60" value="3" required>  
      </div>

      


      <!-- preparation steps -->
      <div class="input-group p-3">
        <div class="input-group-prepend w-25">
          <div class="input-group-text"> Preparation Steps </div>
        </div>
        <textarea id="preparation_steps" name="preparation_steps" minlength="5" class="form-control"
                        maxlength="200" class="materialize-textarea validate" required></textarea>
      </div>

      <hr>
      <h3>Ingredients list</h3>
      <input type="hidden" id="ingredients" name="ingredients">
      
      <div id="current_ingridients">
      </div>

      <div class="input-group mb-3">
        <span class="input-group-text">Name</span>
        <input type="text" id="ingredient_name"  class="validate" required>

        <span class="input-group-text">Amount</span>
        <input type="number" id="ingredient_amount"  class="form-control" placeholder="0">

        <span class="input-group-text">Measure</span>
        <select class="form-select" id="ingredient_measure" >
          <option value="grams" selected>grams</option>
          <option value="spoons">spoons</option>
          <option value="pieces">pieces</option>
        </select>

        <button type="button" class="btn btn-primary" onclick="add_ingridient()">Add to the Ingredients list</button>
      </div>
   


      <div class="form-group">
        <label for="recipe_picture">Upload Recipe Picture</label>
        <input type="file" class="form-control-file" id="file" name="file">
      </div>

      <!-- submit button -->
    
      <button type="submit" class="btn btn-dark">Add Recipe <i class="fas fa-plus-square right"></i></button>
    
    </form>

{% endblock %}